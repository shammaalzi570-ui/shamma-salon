<!DOCTYPE html>
<html lang="en">
<head>
<!-- NLP & ML Libraries -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Feedback - Shamma Salon</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Feedback Specific Styles */
        .feedback-hero {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 120px 20px 80px;
            text-align: center;
            margin-top: 80px;
        }
        
        .feedback-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        
        .tab {
            padding: 12px 25px;
            background: #f5f5f5;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .tab.active {
            background: #c19a6b;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .metric-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .metric-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .good { color: #27ae60; }
        .average { color: #f39c12; }
        .bad { color: #e74c3c; }
        
        .feedback-form {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .star-rating {
            font-size: 2rem;
            margin: 15px 0;
            color: #ddd;
            cursor: pointer;
        }
        
        .star-rating .star {
            margin: 0 5px;
            transition: color 0.3s;
        }
        
        .star-rating .star:hover,
        .star-rating .star.active,
        .star-rating .star:hover ~ .star {
            color: #ffd700;
        }
        
        .category-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        
        .category-tag {
            padding: 8px 16px;
            background: #f0f0f0;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .category-tag:hover,
        .category-tag.active {
            background: #c19a6b;
            color: white;
        }
        
        .feedback-list {
            margin-top: 30px;
        }
        
        .feedback-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border-left: 4px solid #ddd;
        }
        
        .feedback-item.good { border-left-color: #27ae60; }
        .feedback-item.average { border-left-color: #f39c12; }
        .feedback-item.bad { border-left-color: #e74c3c; }
        
        .feedback-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .feedback-rating {
            color: #f39c12;
            font-weight: 600;
        }
        
        .feedback-date {
            color: #999;
            font-size: 0.9rem;
        }
        
        .chart-container {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .alert-banner {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .alert-banner.success {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                flex: 1;
                min-width: 120px;
                text-align: center;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header (same as main site) -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <h1><i class="fas fa-crown"></i> SHAMMA SALON</h1>
                    <p class="tagline">Customer Feedback System</p>
                </div>
                
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="index.html#services" class="nav-link"><i class="fas fa-spa"></i> Services</a></li>
                    <li><a href="index.html#contact" class="nav-link"><i class="fas fa-phone"></i> Contact</a></li>
                    <li><a href="feedback.html" class="nav-link active"><i class="fas fa-comments"></i> Feedback</a></li>
                    <li><a href="admin.html" class="nav-link admin-link"><i class="fas fa-chart-line"></i> Admin</a></li>
                </ul>
                
                <div class="hamburger" id="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="feedback-hero">
        <div class="container">
            <h1><i class="fas fa-comments"></i> Customer Feedback</h1>
            <p>Your opinion helps us improve our services</p>
        </div>
    </section>

    <!-- Main Content -->
    <div class="feedback-container">
        <!-- Tabs -->
        <div class="tabs">
            <div class="tab active" onclick="showTab('submit')">
                <i class="fas fa-edit"></i> Submit Feedback
            </div>
            <div class="tab" onclick="showTab('dashboard')">
                <i class="fas fa-chart-bar"></i> Dashboard
            </div>
            <div class="tab" onclick="showTab('reports')">
                <i class="fas fa-file-alt"></i> Reports
            </div>
        </div>
        
        <!-- Submit Feedback Tab -->
        <div id="submitTab" class="tab-content active">
            <div class="feedback-form">
                <h2>Share Your Experience</h2>
                <p>We value your feedback to improve our services</p>
                
                <form id="feedbackForm">
                    <div class="form-group">
                        <label>Your Name (Optional)</label>
                        <input type="text" id="feedbackName" class="form-control" placeholder="Enter your name">
                    </div>
                    
                    <div class="form-group">
                        <label>Overall Rating</label>
                        <div class="star-rating" id="starRating">
                            <span class="star" data-value="1">â˜…</span>
                            <span class="star" data-value="2">â˜…</span>
                            <span class="star" data-value="3">â˜…</span>
                            <span class="star" data-value="4">â˜…</span>
                            <span class="star" data-value="5">â˜…</span>
                        </div>
                        <input type="hidden" id="ratingValue" value="0">
                    </div>
                    
                    <div class="form-group">
                        <label>Service Category</label>
                        <div class="category-tags">
                            <span class="category-tag" data-category="hair">Hair Services</span>
                            <span class="category-tag" data-category="nails">Nail Services</span>
                            <span class="category-tag" data-category="makeup">Makeup</span>
                            <span class="category-tag" data-category="skincare">Skincare</span>
                            <span class="category-tag" data-category="general">General</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Feedback Type</label>
                        <div class="category-tags">
                            <span class="category-tag" data-type="price">Price/Value</span>
                            <span class="category-tag" data-type="quality">Service Quality</span>
                            <span class="category-tag" data-type="staff">Staff</span>
                            <span class="category-tag" data-type="cleanliness">Cleanliness</span>
                            <span class="category-tag" data-type="waiting">Waiting Time</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Your Feedback *</label>
                        <textarea id="feedbackText" class="form-control" rows="5" placeholder="Please share your experience..." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Suggestions for Improvement (Optional)</label>
                        <textarea id="suggestions" class="form-control" rows="3" placeholder="Your suggestions..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">
                        <i class="fas fa-paper-plane"></i> Submit Feedback
                    </button>
                </form>
            </div>
        </div>
        
        <!-- Dashboard Tab -->
        <div id="dashboardTab" class="tab-content">
            <div class="dashboard-grid">
                <div class="metric-card">
                    <h3>Total Feedback</h3>
                    <div class="metric-value" id="totalFeedback">0</div>
                    <p>All received feedback</p>
                </div>
                
                <div class="metric-card">
                    <h3>Positive</h3>
                    <div class="metric-value good" id="goodFeedback">0</div>
                    <p>4-5 star ratings</p>
                </div>
                
                <div class="metric-card">
                    <h3>Average</h3>
                    <div class="metric-value average" id="averageFeedback">0</div>
                    <p>3 star ratings</p>
                </div>
                
                <div class="metric-card">
                    <h3>Negative</h3>
                    <div class="metric-value bad" id="badFeedback">0</div>
                    <p>1-2 star ratings</p>
                </div>
            </div>
            
            <div class="chart-container">
                <h3>Recent Feedback</h3>
                <div id="recentFeedbackList"></div>
            </div>
        </div>
        
        <!-- Reports Tab -->
        <div id="reportsTab" class="tab-content">
            <div class="chart-container">
                <h3>Feedback Analysis</h3>
                <div id="analysisResults">
                    <p>Loading analysis data...</p>
                </div>
            </div>
            
            <div class="chart-container">
                <h3>Common Issues</h3>
                <div id="commonIssues"></div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 SHAMMA SALON - Feedback System</p>
                <p>Email: 202111205@gcet.edu.om | Phone: +968 9113 9659</p>
            </div>
        </div>
    </footer>

    <script>
        // Feedback System
        let feedbackData = [];
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ðŸ“Š Feedback system loading...');
            loadFeedbackData();
            setupEventListeners();
            setupMobileMenu();
            showTab('submit');
        });
        
        // Mobile menu
        function setupMobileMenu() {
            const hamburger = document.getElementById('hamburger');
            const navMenu = document.querySelector('.nav-menu');
            
            if (hamburger && navMenu) {
                hamburger.addEventListener('click', function() {
                    this.classList.toggle('active');
                    navMenu.classList.toggle('active');
                });
            }
        }
        
        // Load feedback data
        function loadFeedbackData() {
            const saved = localStorage.getItem('shammaFeedback');
            feedbackData = saved ? JSON.parse(saved) : [];
            
            // Sample data if empty
            if (feedbackData.length === 0) {
                feedbackData = [
                    {
                        id: 1,
                        name: "Fatima Al-Said",
                        rating: 5,
                        category: "hair",
                        types: ["quality"],
                        text: "Excellent service! Very professional staff.",
                        date: "2024-01-03",
                        status: "good"
                    },
                    {
                        id: 2,
                        name: "Ali Al-Maamari",
                        rating: 3,
                        category: "nails",
                        types: ["price", "waiting"],
                        text: "Good service but a bit expensive.",
                        date: "2024-01-02",
                        status: "average"
                    }
                ];
                saveFeedbackData();
            }
            
            updateDashboard();
        }
        
        // Save feedback data
        function saveFeedbackData() {
            localStorage.setItem('shammaFeedback', JSON.stringify(feedbackData));
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Star rating
            document.querySelectorAll('.star').forEach(star => {
                star.addEventListener('click', function() {
                    const rating = parseInt(this.getAttribute('data-value'));
                    setRating(rating);
                });
            });
            
            // Category tags
            document.querySelectorAll('.category-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    this.classList.toggle('active');
                });
            });
            
            // Form submission
            const form = document.getElementById('feedbackForm');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    submitFeedback();
                });
            }
        }
        
        // Set star rating
        function setRating(rating) {
            document.getElementById('ratingValue').value = rating;
            document.querySelectorAll('.star').forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }
        
        // Submit feedback
        function submitFeedback() {
            const rating = parseInt(document.getElementById('ratingValue').value);
            const text = document.getElementById('feedbackText').value.trim();
            
            if (rating === 0) {
                alert('Please select a rating');
                return;
            }
            
            if (!text) {
                alert('Please enter your feedback');
                return;
            }
            
            // Determine status
            let status = 'average';
            if (rating >= 4) status = 'good';
            else if (rating <= 2) status = 'bad';
            
            // Get selected categories and types
            const categories = Array.from(document.querySelectorAll('[data-category].active'))
                .map(tag => tag.getAttribute('data-category'));
            const types = Array.from(document.querySelectorAll('[data-type].active'))
                .map(tag => tag.getAttribute('data-type'));
            
            // Create feedback object
            const feedback = {
                id: Date.now(),
                name: document.getElementById('feedbackName').value.trim() || 'Anonymous',
                rating: rating,
                category: categories[0] || 'general',
                types: types,
                text: text,
                suggestions: document.getElementById('suggestions').value.trim(),
                date: new Date().toISOString().split('T')[0],
                status: status,
                timestamp: new Date().toISOString()
            };
            
            // Add to data
            feedbackData.unshift(feedback);
            saveFeedbackData();
            
            // Show success
            alert('Thank you for your feedback! We appreciate your input.');
            
            // Reset form
            document.getElementById('feedbackForm').reset();
            document.querySelectorAll('.star, .category-tag').forEach(el => {
                el.classList.remove('active');
            });
            document.getElementById('ratingValue').value = 0;
            
            // Update dashboard
            updateDashboard();
            
            // Show success banner
            showAlert('Feedback submitted successfully!', 'success');
        }
        
        // Update dashboard
        function updateDashboard() {
            if (feedbackData.length === 0) return;
            
            // Count by status
            const good = feedbackData.filter(f => f.status === 'good').length;
            const average = feedbackData.filter(f => f.status === 'average').length;
            const bad = feedbackData.filter(f => f.status === 'bad').length;
            
            // Update counts
            document.getElementById('totalFeedback').textContent = feedbackData.length;
            document.getElementById('goodFeedback').textContent = good;
            document.getElementById('averageFeedback').textContent = average;
            document.getElementById('badFeedback').textContent = bad;
            
            // Show recent feedback
            showRecentFeedback();
            
            // Update analysis
            updateAnalysis();
        }
        
        // Show recent feedback
        function showRecentFeedback() {
            const container = document.getElementById('recentFeedbackList');
            if (!container) return;
            
            const recent = feedbackData.slice(0, 5);
            container.innerHTML = '';
            
            recent.forEach(feedback => {
                const div = document.createElement('div');
                div.className = `feedback-item ${feedback.status}`;
                
                div.innerHTML = `
                    <div class="feedback-header">
                        <div>
                            <strong>${feedback.name}</strong>
                            <span class="feedback-rating">
                                ${'â˜…'.repeat(feedback.rating)}${'â˜†'.repeat(5 - feedback.rating)}
                            </span>
                        </div>
                        <div class="feedback-date">${feedback.date}</div>
                    </div>
                    <p>${feedback.text}</p>
                    ${feedback.types && feedback.types.length > 0 ? 
                        `<small>Tags: ${feedback.types.join(', ')}</small>` : ''}
                `;
                
                container.appendChild(div);
            });
        }
        
        // Update analysis
        function updateAnalysis() {
            const analysisDiv = document.getElementById('analysisResults');
            const issuesDiv = document.getElementById('commonIssues');
            
            if (!analysisDiv && !issuesDiv) return;
            
            // Calculate average rating
            const totalRating = feedbackData.reduce((sum, f) => sum + f.rating, 0);
            const avgRating = (totalRating / feedbackData.length).toFixed(1);
            
            // Count issues
            const issueCounts = {};
            feedbackData.forEach(f => {
                f.types && f.types.forEach(type => {
                    issueCounts[type] = (issueCounts[type] || 0) + 1;
                });
            });
            
            if (analysisDiv) {
                analysisDiv.innerHTML = `
                    <p><strong>Average Rating:</strong> ${avgRating} / 5</p>
                    <p><strong>Total Responses:</strong> ${feedbackData.length}</p>
                    <p><strong>Positive Rate:</strong> ${((feedbackData.filter(f => f.status === 'good').length / feedbackData.length) * 100).toFixed(1)}%</p>
                `;
            }
            
            if (issuesDiv && Object.keys(issueCounts).length > 0) {
                issuesDiv.innerHTML = Object.entries(issueCounts)
                    .map(([issue, count]) => `
                        <div style="margin: 10px 0;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>${issue}</span>
                                <span>${count}</span>
                            </div>
                            <div style="background: #eee; height: 10px; border-radius: 5px; margin-top: 5px;">
                                <div style="background: #c19a6b; width: ${(count / feedbackData.length) * 100}%; height: 100%; border-radius: 5px;"></div>
                            </div>
                        </div>
                    `).join('');
            }
        }
        
        // Tab navigation
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            // Update content if needed
            if (tabName === 'dashboard' || tabName === 'reports') {
                updateDashboard();
            }
        }
        
        // Show alert
        function showAlert(message, type = 'info') {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert-banner ${type}`;
            alertDiv.innerHTML = `
                <span><i class="fas fa-info-circle"></i> ${message}</span>
                <button onclick="this.parentElement.remove()">&times;</button>
            `;
            
            document.querySelector('.feedback-container').prepend(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }
        
        console.log('âœ… Feedback system ready');
    </script>
</body>
</html>
             
        console.log('âœ… Feedback system ready');
    </script>       
</body>
</html>
             
            
            
                
   
